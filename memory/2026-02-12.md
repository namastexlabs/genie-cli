# 2026-02-12

## Durable memory

- Felipe asked to commit and push all pending repo updates; completed and pushed to `main`.
  - Commits: `1371472` (sync local updates), `1554ba9` (beads sync state)
  - Repo was left clean after push.
- Security note: `.genie/sampaio/TOOLS.md` change with an Omni API key was committed/pushed. Key rotation/revocation is needed because the value is now in git history.

- Brainstorm started for "hypervigilant mode" with subagents (garbage collector, dead code, security analysis):
  - Trigger model chosen: **Hybrid** (event/change-triggered + periodic full scans)
  - Finding surfacing chosen: **D** (auto-create beads only for security; others report-only)
  - Model strategy chosen: **Pluggable + per-role defaults**
  - Runtime chosen: **term worker session** (tmux-visible)
  - Escalation logic chosen: confidence-based, accounting for repeat/impact/context
  - Non-security auto-escalation threshold chosen: **0.80**

- Priority interrupt: Felipe requested takeover of genie-pdf fix in worktree:
  - Worktree: `/home/genie/workspace/repos/automagik/genie-cli/.worktrees/genie-pdf-warning-fix`
  - Branch: `feat/genie-pdf-warning-fix`
  - Issue context: GUGA-0vi (empty string warnings + runtime render errors)
  - Repro fixed: `Invalid border radius: undefined` from react-pdf stylesheet.

- genie-pdf fix completed and committed:
  - Commit: `f3b8ddc`
  - Changes:
    1. `packages/genie-pdf/src/render.ts`
       - Added `toOptionalString()` to normalize frontmatter values (`Date|string|empty|null`) before passing props to `Document`.
    2. `packages/genie-pdf/src/components/Markdown.tsx`
       - Replaced `borderRadius: isGlass ? 4 : 0` with conditional spread `...(isGlass && { borderRadius: 4 })` to avoid react-pdf resolving falsy radius to `undefined` and throwing.
  - Validation command now passes:
    - `cd packages/genie-pdf && bun run src/index.ts render templates/example.md -o /tmp/genie-pdf-test-fixed.pdf`
